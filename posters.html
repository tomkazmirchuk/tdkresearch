<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Posters & Abstracts</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{font-family:Arial;background:#f4f7fb;margin:0;padding:30px}
h1{text-align:center;color:#062f6a;margin-bottom:20px}

.split{
  display:flex;
  gap:30px;
  max-width:1200px;
  margin:auto;
}

/* framed preview */
.frame{
  background:#e9eef7;
  padding:5%;
  border-radius:16px;
  box-shadow:0 10px 22px rgba(0,0,0,.12);
}

.left{flex:0.6}
.right{flex:0.4}

.carousel{
  position:relative;
  overflow:hidden;
  height:520px;
}
.track{display:flex;transition:transform .4s ease}
.slide{
  min-width:100%;
  display:flex;
  align-items:center;
  justify-content:center;
}
.slide img{
  max-width:100%;
  max-height:100%;
  object-fit:contain;
  cursor:pointer;
  background:#fff;
  border-radius:6px;
}

.nav{
  position:absolute;
  top:50%;
  transform:translateY(-50%);
  background:rgba(0,0,0,.4);
  color:white;
  border:none;
  font-size:26px;
  padding:10px 14px;
  cursor:pointer;
  z-index:10
}
.prev{left:10px}.next{right:10px}

/* viewer */
.viewer{
  position:fixed;inset:0;
  background:rgba(0,0,0,.7);
  display:none;
  align-items:center;
  justify-content:center;
}
.viewer iframe{
  width:85%;
  height:90%;
  background:#fff;
  border:none;
}
</style>
</head>

<body>

<h1>Conference Abstracts & Posters</h1>

<div class="split">

  <!-- LEFT: ABSTRACTS -->
  <div class="left">
    <h2>Abstracts</h2>
    <div class="frame">
      <div class="carousel">
        <button class="nav prev" onclick="moveAbs(-1)">&#10094;</button>
        <div class="track" id="absTrack"></div>
        <button class="nav next" onclick="moveAbs(1)">&#10095;</button>
      </div>
    </div>
  </div>

  <!-- RIGHT: POSTERS -->
  <div class="right">
    <h2>Posters</h2>
    <div class="frame">
      <div class="carousel">
        <button class="nav prev" onclick="movePost(-1)">&#10094;</button>
        <div class="track" id="postTrack"></div>
        <button class="nav next" onclick="movePost(1)">&#10095;</button>
      </div>
    </div>
  </div>

</div>

<div class="viewer" id="viewer" onclick="this.style.display='none'">
  <iframe id="frame"></iframe>
</div>

<script>
let ai=0,pi=0;

function moveAbs(d){
  const s=document.querySelectorAll("#absTrack .slide");
  ai=(ai+d+s.length)%s.length;
  document.getElementById("absTrack").style.transform=`translateX(-${ai*100}%)`;
}
function movePost(d){
  const s=document.querySelectorAll("#postTrack .slide");
  pi=(pi+d+s.length)%s.length;
  document.getElementById("postTrack").style.transform=`translateX(-${pi*100}%)`;
}

fetch("/data/data.json").then(r=>r.json()).then(data=>{

  /* posters */
  data.posters.forEach(p=>{
    const s=document.createElement("div");
    s.className="slide";
    s.innerHTML=`<img src="${p.image}">`;
    s.onclick=()=>{
      if(p.pdf){
        document.getElementById("frame").src=p.pdf;
        document.getElementById("viewer").style.display="flex";
      }
    };
    document.getElementById("postTrack").appendChild(s);
  });

  /* abstracts */
  const abstracts=[
    "abstract1","abstract2","abstract3","abstract4","abstract5",
    "abstract6","abstract7","abstract8","abstract9","abstract10","abstract11"
  ];
  abstracts.forEach(a=>{
    const s=document.createElement("div");
    s.className="slide";
    s.innerHTML=`<img src="/abstracts/${a}.png">`;
    s.onclick=()=>{
      document.getElementById("frame").src="/abstracts/"+a+".pdf";
      document.getElementById("viewer").style.display="flex";
    };
    document.getElementById("absTrack").appendChild(s);
  });
});
</script>

</body>
</html>
