<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>TDK Research & Consulting</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{margin:0;font-family:Arial,Helvetica,sans-serif;background:#fff;color:#0a2540}
header{
  height:16vh;
  background:
    url("/images/dna-header.svg"),
    linear-gradient(to right,#062f6a,#0a4ea1,#083b82);
  background-size:contain,cover;
  background-repeat:repeat-x,no-repeat;
  background-position:center,center;
  display:flex;align-items:center;justify-content:center;
  color:#fff;position:relative;text-align:center
}
body.industry header{
  background:
    url("/images/circuit-header.svg"),
    linear-gradient(to right,#0a1f44,#123b78,#0a1f44);
}
#modeToggle{position:absolute;top:20px;right:20px;padding:8px 14px;border-radius:20px;
  background:rgba(255,255,255,.25);border:1px solid rgba(255,255,255,.6);color:#fff;cursor:pointer}

.main{display:flex;height:calc(100vh - 16vh)}
.left{width:40%;padding:30px;overflow-y:auto}
.right{width:60%;position:relative;background:#f4f7fb}

.menu h3{
  cursor:pointer;color:#062f6a;margin-top:26px;
  font-size:1.9em;font-weight:600
}
.submenu{max-height:0;overflow:hidden;transition:max-height .3s ease;margin-left:10px}
.menu h3:hover+.submenu,
.menu h3:focus+.submenu,
.submenu:hover{max-height:400px}
.menu a{
  display:block;margin:10px 0;color:#083b82;
  text-decoration:none;font-size:1.35em
}

.preview{position:absolute;inset:0;background-size:cover;background-position:center;opacity:0;transition:.5s}
.preview.active{opacity:1}

.news{margin-top:30px;display:flex;gap:12px}
.news div{flex:1;background:#f0f4fb;padding:14px;border-radius:10px;cursor:pointer;font-size:.9em}
.footer{background:linear-gradient(to right,#062f6a,#0a4ea1,#083b82);color:#fff;text-align:center;padding:20px}
</style>
</head>

<body>

<header>
  <div>
    <h1>TDK Research & Consulting</h1>
    <p id="tagline">Leading through passion</p>
  </div>
  <button id="modeToggle">Industry View</button>
</header>

<div class="main">

<div class="left">
  <div class="menu" id="menu"></div>
  <div class="news" id="newsFeed"></div>
</div>

<div class="right">
  <div class="preview active" id="bmr" style="background-image:url('/images/BMR_Headshot.jpg')"></div>
  <div class="preview" id="writing" style="background-image:url('/images/writing.jpg')"></div>
  <div class="preview" id="consulting" style="background-image:url('/images/consulting.jpg')"></div>
</div>

</div>

<div class="footer">Contact: <strong>tomkazmirchuk@gmail.com</strong></div>

<script>
const menus={
  research:[
    {title:"Biomedical Research",items:[
      {t:"Blood Work",l:"blood-work.html",img:"bmr"},
      {t:"Molecular Biology",l:"molecular-biology.html",img:"bmr"}
    ]},
    {title:"Communications",items:[
      {t:"Publications",l:"publications.html",img:"writing"},
      {t:"Posters",l:"posters.html",img:"writing"},
      {t:"Lectures",l:"lectures.html",img:"writing"}
    ]},
    {title:"Community Initiatives",items:[]}
  ],
  industry:[
    {title:"Theranostics",items:[
      {t:"Theranostics",l:"theranostics.html",img:"bmr"}
    ]},
    {title:"Technologics",items:[
      {t:"EMD",l:"#",img:"consulting"}
    ]},
    {title:"Consulting & Contracting",items:[]}
  ]
};

function buildMenu(mode){
  const wrap=document.getElementById("menu");
  wrap.innerHTML="";
  menus[mode].forEach(sec=>{
    const h=document.createElement("h3");
    h.tabIndex=0;h.textContent=sec.title;
    wrap.appendChild(h);
    if(sec.items.length){
      const sub=document.createElement("div");sub.className="submenu";
      sec.items.forEach(i=>{
        const a=document.createElement("a");
        a.href=i.l;a.textContent=i.t;a.dataset.img=i.img;
        a.onmouseenter=()=>show(i.img);
        sub.appendChild(a);
      });
      wrap.appendChild(sub);
    }
  });
}

function show(id){
  document.querySelectorAll(".preview").forEach(p=>p.classList.remove("active"));
  const el=document.getElementById(id);
  if(el)el.classList.add("active");
}

const btn=document.getElementById("modeToggle");
let mode=localStorage.getItem("tdkMode")||"research";
function apply(m){
  document.body.classList.toggle("industry",m==="industry");
  btn.textContent=m==="research"?"Industry View":"Research View";
  document.getElementById("tagline").textContent=
    m==="research"?"Leading through passion":"Built from discovery.";
  buildMenu(m);
  localStorage.setItem("tdkMode",m);
}
btn.onclick=()=>{mode=mode==="research"?"industry":"research";apply(mode);};
apply(mode);

fetch("/data/data.json").then(r=>r.json()).then(d=>{
  const f=document.getElementById("newsFeed");
  d.news.slice(0,3).forEach(n=>{
    const div=document.createElement("div");
    div.innerHTML=`<strong>${n.title}</strong><br><small>${n.date}</small>`;
    div.onclick=()=>window.open(n.link);
    f.appendChild(div);
  });
});
</script>

</body>
</html>
