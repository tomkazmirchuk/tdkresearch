<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>TDK Research & Consulting</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{margin:0;font-family:Arial,Helvetica,sans-serif;background:#fff;color:#0a2540}
header{
  height:32vh;
  background:
    url("/images/dna-header.svg"),
    linear-gradient(to right,#062f6a,#0a4ea1,#083b82);
  background-size:contain,cover;
  background-repeat:repeat-x,no-repeat;
  background-position:center,center;
  display:flex;align-items:center;justify-content:center;
  color:#fff;position:relative;text-align:center
}
body.industry header{
  background:
    url("/images/circuit-header.svg"),
    linear-gradient(to right,#0a1f44,#123b78,#0a1f44);
}
#modeToggle{position:absolute;top:20px;right:20px;padding:8px 14px;border-radius:20px;
  background:rgba(255,255,255,.25);border:1px solid rgba(255,255,255,.6);color:#fff;cursor:pointer}

.main{display:flex;height:calc(100vh - 32vh)}
.left{width:40%;padding:30px;overflow-y:auto}
.right{width:60%;position:relative;background:#f4f7fb}

.menu h3{cursor:pointer;color:#062f6a;margin-top:20px}
.submenu{max-height:0;overflow:hidden;transition:max-height .3s ease;margin-left:10px}
.menu h3:hover+.submenu,
.menu h3:focus+.submenu,
.submenu:hover{max-height:300px}
.menu a{display:block;margin:6px 0;color:#083b82;text-decoration:none}

.preview{position:absolute;inset:0;background-size:cover;background-position:center;opacity:0;transition:.5s}
.preview.active{opacity:1}

.news{margin-top:30px;display:flex;gap:12px}
.news div{flex:1;background:#f0f4fb;padding:14px;border-radius:10px;cursor:pointer;font-size:.9em}
</style>
</head>

<body>

<header>
  <div>
    <h1>TDK Research & Consulting</h1>
    <p id="tagline">Leading through passion</p>
  </div>
  <button id="modeToggle">Industry View</button>
</header>

<div class="main">

  <div class="left">
    <div class="menu">

      <h3 tabindex="0">Biomedical Research Division</h3>
      <div class="submenu">
        <a href="blood-work.html" data-img="bmr">Blood Work</a>
        <a href="theranostics.html" data-img="bmr">Theranostics</a>
        <a href="molecular-biology.html" data-img="bmr">Molecular Biology</a>
      </div>

      <h3 tabindex="0">Communications Division</h3>
      <div class="submenu">
        <a href="publications.html" data-img="writing">Publications</a>
        <a href="posters.html" data-img="writing">Conference Abstracts & Posters</a>
        <a href="lectures.html" data-img="writing">Lectures & Seminars</a>
      </div>

      <h3 tabindex="0">Consulting & Contracting</h3>
      <h3 tabindex="0">Community Initiatives</h3>
      <h3><a href="contact.html">Contact</a></h3>

    </div>

    <div class="news" id="newsFeed"></div>
  </div>

  <div class="right">
    <div class="preview active" id="bmr" style="background-image:url('/images/BMR_Headshot.jpg')"></div>
    <div class="preview" id="writing" style="background-image:url('/images/writing.jpg')"></div>
  </div>

</div>

<script>
document.querySelectorAll(".menu a[data-img]").forEach(link=>{
  link.addEventListener("mouseenter",()=>{
    document.querySelectorAll(".preview").forEach(p=>p.classList.remove("active"));
    document.getElementById(link.dataset.img).classList.add("active");
  });
});

const btn=document.getElementById("modeToggle");
let mode=localStorage.getItem("tdkMode")||"research";
function applyMode(m){
  document.body.classList.toggle("industry",m==="industry");
  btn.textContent=m==="research"?"Industry View":"Research View";
  document.getElementById("tagline").textContent=
    m==="research"?"Leading through passion":"Engineering the future of medicine";
  localStorage.setItem("tdkMode",m);
}
btn.onclick=()=>{mode=mode==="research"?"industry":"research";applyMode(mode);};
applyMode(mode);

fetch("/data/data.json").then(r=>r.json()).then(d=>{
  const feed=document.getElementById("newsFeed");
  if(!d.news)return;
  d.news.slice(0,3).forEach(n=>{
    const div=document.createElement("div");
    div.innerHTML=`<strong>${n.title}</strong><br><small>${n.date}</small>`;
    div.onclick=()=>window.open(n.link);
    feed.appendChild(div);
  });
});
</script>

</body>
</html>
